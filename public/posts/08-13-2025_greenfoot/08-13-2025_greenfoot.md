# Greenfoot и как я на нём игры делал

## Предисловие
В рамках обучения в университете, у меня был предмет, который назывался "Программирование на Java", где нам рассказывали как писать код, а итоговой работой должен быть проект, на Greenfoot.

## Немного про Greenfoot
Greenfoot - Проект, направленный на обучение объектно-ориентированному программированию, с использованием языка Java. Можно сказать что это минималистичный игровой движок, для обучения основам программирования. Greenfoot включает в себя IDE с подсказками кода, а также предоставляет базовые классы, от которых в основном и будут наследоваться объекты проекта.

Основные классы это [Actor](https://www.greenfoot.org/files/javadoc/greenfoot/Actor.html) и [World](https://www.greenfoot.org/files/javadoc/greenfoot/World.html).

Actor - Объект, существующий в World. Имеет свои размеры, положение в мире, изображение и базовые методы для работы с ним. Например: act() - вызывается постоянно, к примеру, для обработки нажатий клавиш, addedToWorld() - вызывается при добавлении объекта в мир, getX(), getY(), move() и прочие методы, позволяющие работать с экземпляром класса.

World - Объект, в котором создаются Actor. Фактически - двумерная сетка с фоном. Имеет ширину, высоту, фоновое изображение, а также методы act(), addObject(), removeObject() и другие.

## MicroFantasy
![](/posts/08-13-2025_greenfoot/MicroFantasy.png)

Первая игра сделанная мной на greenfoot представляет из себя бесконечный арену, в которой нужно просто набить как можно больше очков, убивая противников, что спавнятся в рандомной точке мира.

![Геймплей MicroFantasy](/posts/08-13-2025_greenfoot/MicroFantasyGameplay.mp4)

Структурно объектов в игре не много.

MyWorld - Основной мир игры. Со старта в нём создаётся объект игрока, и в методе act() в зависимости от рандома и лимита противников - спанится Fly, Wizard или Swordsman.


Класс Player и Player2 внутри имеют обработку нажатия клавиш для движения, а также обработку попаданий противника по игроку(через enemy_mesh) и спавн attack_mesh по нажатию клавиши атаки

Класс Swordsman реализует внутри себя поиск позиции Player/Player2 и просто направляется в его сторону. При достижении определенного расстояния - проигрывает анимацию удара и создаёт enemy_mesh, при касании которого, Player теряет здоровье, а Swordsman в свою очередь теряет здоровье при соприкосновении с attack_mesh/attack_mesh2

Wizard - создаётся в случайном месте на карте, имеет одну единицу здоровья и создаёт экземпляры класса Fireball, что просто движутся прямо, при создании, а при касании игрока - убавляют ему жизни.

![Классы MicroFantasy](/posts/08-13-2025_greenfoot/MicroFantasyClasses.jpg)

## GFTyper
![](/posts/08-13-2025_greenfoot/GFTyper.png)

Следующей игрой был GFTyper, суть предельно проста: есть заготовленный пулл слов, с самого старта эти слова падают вниз и необходимо успеть их напечатать.

Логически всё тоже достаточно просто. Есть класс Word, есть класс Letter. Класс мира со старта создаёт Word, в котором идёт обработка нажатия клавиш. В зависимости от слова внутри Word - отображаются буквы.

Есть также объекты, необходимые только для визуала игры и не несут в себе особой логики, по типу клавиатуры.

![Геймплей GFTyper](/posts/08-13-2025_greenfoot/GFTyperGameplay.mp4)

## BoneHunter
![](/posts/08-13-2025_greenfoot/BoneHunter.png)

Идеи заканчивались, а проекты для закрытия предмета у моих знакомых, всё ещё были нужны. Следующим проектом был BoneHunter - простоя бродилка по комнате на время, для двух игроков, где целью было собрать как можно больше косточек за минуту игрового времени.

![Геймплей BoneHunter](/posts/08-13-2025_greenfoot/BoneHunterGameplay.mp4)

Реализация игры предельно проста, но для того, чтоб "продать" её, нужна была какая-то особенность. Этой особенностью стала обработка коллизий. При столкновении игрока с объектом коллизии, находилась грань, которой касается игрок и он выталкивался в сторону этой грани.

![](/posts/08-13-2025_greenfoot/BoneHunterCollision.jpg)

## TowerDefense

Последняя игра на Greenfoot создавалась не только мной, но и одногруппником. Это был простой tower defense. Точно не помню насколько много или мало было сделано мной, но помню что пришлось поработать над системой покупки башенок и спавна противников.

![Геймплей Tower Defense](/posts/08-13-2025_greenfoot/TowerDefence.mp4)

## ZPSKTR

После того как все игры были сделаны, я решил поделиться ими с некоторыми своими знакомыми, и обнаружил что Greenfoot имеет всего два типа экспорта: веб-версия игры на сайте greenfoot, и jar(в последней версии эту функцию удалили). Веб-версия меня не устраивала т.к. мои поделки могли достаточно сильно в ней лагать, а также все изображения дико шакалились. А экспорт в jar был очень странным: в указанном при экспорте каталоге создавался bat файл, в котором был вписан прямой путь до JDK, на который с нужными параметрами кидался jar файл игры. Меня это не устраивало и так как было достаточно свободного времени, было решено написать [лаунчер для Greenfoot игр](https://github.com/AnriTool/Greenfoot-launcher).

На момент написания мне не хотелось заморачиваться, хотелось быстро и просто, поэтому был выбран Python и Tkinter. За ночь было накидано простое приложение, что смотрело несколько папок и искало .jar файлы, а также изображения для них. Простой лаунчер был готов, но с Python возникли трудности при сборке в exe, поскольку сама система жаловалась постоянно на программу, ведь та создавала bat'ник и запускала его, да и приложение весило больше чем всё до этого ранее реализованное(и это без JDK).

![Python Tkintrer версия ZPSKTR](/posts/08-13-2025_greenfoot/ZPSKTRpy.jpg)

После, вспоминаю что в один момент я остался без интернета, и от нечего делать, решил переписать лаунчер на что-то другое. На тот момент на ПК я нашёл PascalABC.net, и от нечего делать, решил переписать всё на паскаль. Получилось точно также, только весило меньше и система не жаловалась

![Python/Pascal ZPSKTR](/posts/08-13-2025_greenfoot/ZPSKTRpas.jpg)

## Конец
Как исходники игр, так и исходники лаунчера можно скачать по ссылке: [GFFiles — Яндекс Диск](https://disk.yandex.ru/d/xNz4bzYajmkwjg/ZPSKTR2)
